# NoteFlux

Сайт заметок с паролем на входе, админ-панелью и сохранением данных.

## Локальный запуск

```bash
python3 app.py
```

Откройте `http://localhost:3000`.

- Пароль сайта по умолчанию: `1234`
- Пароль админ-панели по умолчанию: `admin123`

## Деплой на Vercel

Проект подготовлен под Vercel Python runtime (`vercel.json`).

### Почему на Vercel заметки могли не создаваться

В serverless-окружении локальный файл `data/store.json` не является постоянным между инстансами.
Из-за этого заметка может «исчезать» после редиректа.

### Правильная настройка постоянного хранения

Если у вас не получается руками, делайте так:

1. В Vercel → **Storage** нажмите **Upstash** → **Create** → подключите к проекту.
2. В большинстве случаев Upstash сам добавит env-переменные (`UPSTASH_REDIS_REST_URL`, `UPSTASH_REDIS_REST_TOKEN`).
3. Нажмите **Redeploy** проекта.

Приложение автоматически поддерживает **оба варианта** переменных:

- `KV_REST_API_URL` / `KV_REST_API_TOKEN`
- или `UPSTASH_REDIS_REST_URL` / `UPSTASH_REDIS_REST_TOKEN`

Дополнительно:
- `NOTES_STORE_KEY` (опционально, по умолчанию `noteflux:store`)
- `SESSION_SECRET` (обязательно свой секрет)

После этого заметки будут стабильно создаваться и сохраняться на проде.
